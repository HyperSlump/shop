@import 'tailwindcss';

@theme {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-muted: var(--muted);
  --color-card: var(--card);
  --color-accent: var(--accent);
  --color-status: var(--status);
  --color-alert: var(--alert);
  --color-border: var(--border);

  --font-sans: var(--font-sans),
    ui-sans-serif,
    system-ui,
    sans-serif;
  --font-mono: var(--font-mono),
    ui-monospace,
    SFMono-Regular,
    monospace;
  /* Use a separate variable for the computed stack to avoid circular reference in @theme */
  --font-display: "UnifrakturMaguntia", "UnifrakturMaguntia Fallback", var(--font-display), serif;

  --radius-DEFAULT: 6px;
  --variant-dark: .dark &;
}

/* Custom Utilities */
@layer utilities {
  .noise {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 250 250' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='1.5' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    pointer-events: none;
  }

  .vertical-text {
    writing-mode: vertical-rl;
    text-orientation: mixed;
  }

  .glass-panel {
    background: var(--surface);
    backdrop-filter: blur(12px);
    border: 1px solid var(--border);
    box-shadow: 0 4px 24px -1px rgba(0, 0, 0, 0.2);
  }

  .glitch-hover:hover .glitch-img {
    filter: hue-rotate(90deg) contrast(150%);
    transform: scale(1.05) translate(2px, -2px);
  }

  @keyframes fade-in-up {
    0% {
      opacity: 0;
      transform: translateY(10px);
    }

    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in-up 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    opacity: 0;
  }

  .delay-100 {
    animation-delay: 100ms;
  }

  .delay-200 {
    animation-delay: 200ms;
  }

  .delay-300 {
    animation-delay: 300ms;
  }

  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--border) transparent;
    overscroll-behavior: contain;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--border);
    border-radius: 4px;
  }

  .custom-scrollbar:hover::-webkit-scrollbar-thumb {
    background: var(--foreground);
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Industrial Animations */
  @keyframes scan {
    0% {
      top: 0%;
    }

    100% {
      top: 100%;
    }
  }

  .animate-scan {
    animation: scan 4s linear infinite;
  }

  @keyframes pulse-slow {

    0%,
    100% {
      opacity: 1;
    }

    50% {
      opacity: 0.4;
    }
  }

  .animate-pulse-slow {
    animation: pulse-slow 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }
}

/* Base Styles & Theme Tokens */
@layer base {
  html {
    font-size: 100%;
    scrollbar-gutter: stable;
    overflow-x: clip;

    /* REFINED LIGHT MODE - Minimalist High-Fidelity */
    --background: #FFFFFF;
    --foreground: #0F172A;
    /* Slate 900 */
    --primary: #635BFF;
    /* Stripe Blurple */
    --primary-foreground: #FFFFFF;
    --muted: #64748B;
    /* Slate 500 */
    --card: #F8FAFC;
    /* Slate 50 */
    --accent: #0EA5E9;
    /* Sky 500 */
    --surface: rgba(255, 255, 255, 0.8);
    --status: #10B981;
    /* Emerald 500 */
    --alert: #EF4444;
    /* Red 500 */
    --border: rgba(15, 23, 42, 0.08);
    --noise-opacity: 0.015;
    --noise-blend: multiply;
  }

  @media (min-width: 768px) {
    html {
      font-size: 100%;
    }
  }

  html.dark {
    /* REFINED DARK MODE - Techno Industrial Deep */
    --background: #09090B;
    /* Zinc 950 */
    --foreground: #F8FAFC;
    /* Slate 50 */
    --primary: #6366F1;
    /* Indigo 500 */
    --primary-foreground: #FFFFFF;
    --muted: #94A3B8;
    /* Slate 400 */
    --card: #121214;
    /* Slightly lighter than background */
    --accent: #38BDF8;
    /* Sky 400 */
    --surface: rgba(9, 9, 11, 0.8);
    --status: #34D399;
    /* Emerald 400 */
    --alert: #F87171;
    /* Red 400 */
    --border: rgba(248, 250, 252, 0.1);
    --noise-opacity: 0.12;
    --noise-blend: screen;
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    @apply font-sans selection:bg-primary/30 selection:text-foreground transition-colors duration-300 ease-out;
    position: relative;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Analog CRT / Hardware Overlay */
  body::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
      linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.05) 50%),
      linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
    background-size: 100% 3px, 3px 100%;
    pointer-events: none;
    z-index: 9999;
    opacity: 0.04;
    /* Very subtle in light mode */
    mix-blend-mode: overlay;
  }

  html.dark body::after {
    opacity: 0.15;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-weight: 600;
    @apply font-sans tracking-tight;
  }



  a,
  button {
    @apply cursor-pointer;
  }
}